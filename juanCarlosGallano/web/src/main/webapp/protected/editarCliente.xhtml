<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui" >
<f:metadata>
		<f:event listener="#{editarClienteBean.init()}" type="preRenderView"></f:event>
	</f:metadata>
<ui:composition template="template.xhtml">
	
	<ui:define name="contenido">
	<script type="text/javascript">
	    function geocode() {
	        PF('geoMap').geocode(document.getElementById('templateForm:formEditCliente:address').value);
	    }
	 
	    function reverseGeocode() {
	        var lat = document.getElementById('lat').value,
	            lng = document.getElementById('lng').value;
	 
	        PF('revGeoMap').reverseGeocode(lat, lng);
	    }
	</script>
	<script src="http://maps.google.com/maps/api/js?sensor=false" type="text/javascript" ></script>
	<h:form id="formEditCliente">
		<p:panel id="panelEdicion">
		<p:panelGrid columns="2" id="panelEditCliente">
					
			<p:outputLabel value="Nombre" for="nombre"/>
			<p:inputText id="nombre" value="#{editarClienteBean.clienteEdicion.nombre}"
				requiredMessage="Se requiere un datos de la persona" required="true"></p:inputText>
			
			<p:outputLabel value="Apellido" for="apellido"/>
			<p:inputText id="apellido" value="#{editarClienteBean.clienteEdicion.apellido}"
				requiredMessage="Se requiere un datos de la persona" required="true"></p:inputText>
			
			<p:outputLabel value="Cargar Documento" for="cargaDocumento"/>
			<p:selectOneMenu required= "true" requiredMessage="seleccionar documento a cargar" id="cargaDocumento" value="#{editarClienteBean.rucoCedula}" 
				style="width:125px">
            	<f:selectItem itemLabel="Seleccione Documento"  />
            	<f:selectItem itemLabel="RUC" itemValue="true" />
            	<f:selectItem itemLabel="Cedula" itemValue="false" />
            	<p:ajax update="templateForm:formEditCliente:panelEditCliente"></p:ajax>
        	</p:selectOneMenu>
			<p:outputLabel value="RUC" for="ruc" rendered="#{editarClienteBean.rucoCedula}"/>
			<p:inputText id="ruc" value="#{editarClienteBean.clienteEdicion.ruc}" rendered="#{editarClienteBean.rucoCedula}"></p:inputText>
			
			<p:outputLabel value="Cedula" for="cedula" rendered="#{!editarClienteBean.rucoCedula}"/>
			<p:inputText id="cedula" value="#{editarClienteBean.clienteEdicion.cedula}"
				rendered="#{!editarClienteBean.rucoCedula}"
				validatorMessage="Cedula debe ser numerico">
					<f:validateRegex pattern="[0-9]*" />
				</p:inputText>
			
			<p:outputLabel value="Direccion" />
			<p:panel id="mapDireccion">
				<h:panelGrid columns="3" style="margin-bottom:10px" cellpadding="5">
			        <p:outputLabel for="address" value="Address:" />
			        <p:inputText id="address" />
			        <p:commandButton value="Geocode" icon="ui-icon-search" onclick="geocode()" type="button" />
			    </h:panelGrid>
			 
			    <p:gmap id="geoGmap" widgetVar="geoMap" center="#{geocodeView.centerGeoMap}" zoom="2" type="ROADMAP" model="#{geocodeView.geoModel}" style="width:100%;height:400px">
			        <p:ajax event="geocode" listener="#{geocodeView.onGeocode}" update="@this" />
			    </p:gmap>
			</p:panel>
			<p:outputLabel value="Telefono" for="telefono"/>
			<p:inputText id="telefono" value="#{editarClienteBean.clienteEdicion.telefono}"
				requiredMessage="Se requiere un numero de telefono" required="true"
				validatorMessage="Telefono debe ser numerico">
				<f:validateRegex pattern="[0-9]*" />	
			</p:inputText>
			
			<p:outputLabel value="Email" for="email"/>
			<p:inputText id="email" value="#{editarClienteBean.clienteEdicion.email}" 
				requiredMessage="Se requiere un correo electrÃ³nico" required="true" 
					validatorMessage="El correo ingresado es incorrecto">
				<f:validateRegex 
					pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" /> 	
			</p:inputText>
			
			
			<p:outputLabel value="Estado" for="estadoDeposito"/>
			<p:selectOneMenu required= "true" requiredMessage="Estado debe ser seleccionado" id="estadoDeposito" value="#{editarClienteBean.clienteEdicion.estado}" style="width:125px" >
            	<f:selectItem itemLabel="Seleccione Estado"  />
            	<f:selectItem itemLabel="Activo" itemValue="Activo" />
            	<f:selectItem itemLabel="Inactivo" itemValue="Inactivo" />
        	</p:selectOneMenu>
			
		</p:panelGrid>
		
		
		<p:outputLabel value="Direccion"/>

		
		
			<p:commandButton id="guardarDeposito" label="Guardar" title="Guardar" style="margin-top:25px;margin-left:25px"
				action="#{editarClienteBean.guardarCliente()}" update="templateForm:formEditCliente:panelEditCliente"/>
			<p:button id="salirCliente" value="Salir" title="Salir" style="margin-top:25px;margin-left:25px" 
				outcome="/protected/clienteList.xhtml?faces-redirect=true"/>
		</p:panel>
		
		
	</h:form>
	</ui:define>


</ui:composition>	
</html>